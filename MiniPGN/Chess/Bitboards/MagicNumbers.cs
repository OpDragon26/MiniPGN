namespace MiniPGN.Chess.Bitboards;

public static class MagicNumbers
{
    public static ulong Calculate(this (ulong number, int shift, ulong highest) magic, ulong value)
    {
        return (value * magic.number) >> magic.shift;
    }

    public static readonly (ulong number, int shift, ulong highest)[] RookMagics =
    [
        (985269231055635470, 48, 65516), (88166043973112679, 48, 65534), (3142386746884846368, 48, 65534),
        (864685542677365716, 48, 65535), (2586283378586882472, 48, 65531), (2808417361033323468, 48, 65526),
        (1890911079171246650, 48, 65534), (17597371001195469, 48, 65534), (120178031862261632, 48, 65535),
        (226365867627612961, 48, 65534), (1803292394500580898, 48, 65535), (628050608239734485, 48, 65534),
        (2696555272305511144, 48, 65535), (251154625980345332, 48, 65534), (1800855270149852554, 48, 65535),
        (1661702442684751473, 48, 65534), (3773389388844165302, 48, 65531), (1114559375048185792, 48, 65535),
        (335923577310636000, 48, 65535), (100540877569138224, 48, 65534), (448896125323751619, 48, 65529),
        (402728019515214435, 48, 65528), (78079743476472726, 48, 65534), (1583591028199297957, 48, 65534),
        (199608609545038680, 48, 65531), (402837107384564505, 48, 65535), (466192324685599824, 48, 65532),
        (3246798063511812784, 48, 65533), (516527357472112388, 48, 65535), (828848002071957644, 48, 65534),
        (665791693758310326, 48, 65527), (1406234913161790305, 48, 65531), (666619156322712000, 48, 65535),
        (2295928177972333224, 48, 65535), (541982671375007904, 48, 65525), (1768753854539137510, 48, 65534),
        (1833859134455981226, 48, 65533), (1917119382303460700, 48, 65534), (272015445615232110, 48, 65534),
        (1960881461222217471, 48, 65533), (1829188553056641106, 48, 65535), (667812856296936000, 48, 65536),
        (103392740192621472, 48, 65533), (1744696195693854480, 48, 65534), (2756845471060328450, 48, 65530),
        (1174756525781363190, 48, 65533), (256548231698251778, 48, 65527), (785608942720236661, 48, 65535),
        (775684189092745618, 48, 65534), (896506450283725868, 48, 65534), (1031632701515404912, 48, 65531),
        (554887461386391056, 48, 65529), (2442613442305782264, 48, 65534), (1251382294791139708, 48, 65535),
        (3783162620032623730, 48, 65534), (45277505144973003, 48, 65534), (2106168043083205235, 48, 65535),
        (329555068577983877, 48, 65535), (940861191299840481, 48, 65535), (3682788081504547607, 48, 65532),
        (1106614071577051273, 48, 65522), (2881137641324950525, 48, 65534), (249682364488344825, 48, 65533),
        (105546078198474498, 48, 65534)
    ];
}